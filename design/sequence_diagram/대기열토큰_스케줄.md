```mermaid
---
title: 대기열 토큰 스케줄 
---
sequenceDiagram
    participant Scheduler as Scheduler
    participant Database as Database ( QueueToken )
    


    loop Active Scheduler
        Scheduler->>Database: 상태가 "wait" 인 토큰들을 조회 
        Database-->>Scheduler: 토큰들 반환 
        Scheduler->>Database: 반환 받은 토큰들 중 일부를 "active"로 변환 
    end

    loop Expire Scheduler
        Scheduler->>Database: 만료된 토큰들을 조회
        Database-->>Scheduler: 토큰들을 반환
        Scheduler->>Database: 만료된 토큰들의 상태를 "delete" 로 변환 ( SOFT DELETE )
    end
                
```